<div class="panel panel-default" ng-controller="WeekCtrl as week">
    <!--<div class="panel-heading">
        <h4 class="panel-title"></h4>
    </div>
    <div class="panel-body">
        <table class="table">
            <thead>
                <tr>
                    <th colspan="7">
                        <input name="daterange" id="daterange" title="datePicker" style="float: right;"/>
                    </th>
                </tr>

            </thead>
            <tbody>
                <tr>
                    <th ng-repeat="day in week.days">{{ day.name }}</th>
                </tr>
                <tr>
                    <td ng-repeat="day in week.days" ng-controller="DayCtrl as day">
                        <div ng-include="'mealpler/dashboard/week/day/day.html'"></div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>-->
    <div >
        <h2 class="text-center">{{ week.calendarTitle }}</h2>

        <div class="row">

            <div class="col-md-6 text-center">
                <div class="btn-group">

                    <button
                            class="btn btn-primary"
                            mwl-date-modifier
                            date="week.viewDate"
                            decrement="week.calendarView"
                            ng-click="week.cellIsOpen = false">
                        Previous
                    </button>
                    <button
                            class="btn btn-default"
                            mwl-date-modifier
                            date="week.viewDate"
                            set-to-today
                            ng-click="week.cellIsOpen = false">
                        Today
                    </button>
                    <button
                            class="btn btn-primary"
                            mwl-date-modifier
                            date="week.viewDate"
                            increment="week.calendarView"
                            ng-click="week.cellIsOpen = false">
                        Next
                    </button>
                </div>
            </div>

            <div class="col-md-6">
                <input name="daterange" id="daterange" title="datePicker" style="float: right;"/>
            </div>


        </div>

        <br>

        <mwl-calendar
                events="week.events"
                view="week.calendarView"
                view-date="week.viewDate"
                on-event-times-changed="week.eventTimesChanged(calendarEvent); calendarEvent.startsAt = calendarNewEventStart; calendarEvent.endsAt = calendarNewEventEnd">
        </mwl-calendar>

        <br><br><br>

        <h3 id="event-editor">
            Edit events
            <button
                    class="btn btn-primary pull-right"
                    ng-click="week.addEvent()">
                Add new
            </button>
            <div class="clearfix"></div>
        </h3>

        <table class="table table-bordered">

            <thead>
            <tr>
                <th>Title</th>
                <th>Primary color</th>
                <th>Secondary color</th>
                <th>Starts at</th>
                <th>Ends at</th>
                <th>Remove</th>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="event in week.events track by $index">
                <td>
                    <input
                            type="text"
                            class="form-control"
                            ng-model="event.title">
                </td>
                <td>
                    <input class="form-control" colorpicker type="text" ng-model="event.color.primary">
                </td>
                <td>
                    <input class="form-control" colorpicker type="text" ng-model="event.color.secondary">
                </td>
                <td>
                    <p class="input-group" style="max-width: 250px">
                        <input
                                type="text"
                                class="form-control"
                                readonly
                                uib-datepicker-popup="dd MMMM yyyy"
                                ng-model="event.startsAt"
                                is-open="event.startOpen"
                                close-text="Close" >
                        <span class="input-group-btn">
              <button
                      type="button"
                      class="btn btn-default"
                      ng-click="week.toggle($event, 'startOpen', event)">
                <i class="glyphicon glyphicon-calendar"></i>
              </button>
            </span>
                    </p>
                    <div
                            uib-timepicker
                            ng-model="event.startsAt"
                            hour-step="1"
                            minute-step="15"
                            show-meridian="true">
                    </div>
                </td>
                <td>
                    <p class="input-group" style="max-width: 250px">
                        <input
                                type="text"
                                class="form-control"
                                readonly
                                uib-datepicker-popup="dd MMMM yyyy"
                                ng-model="event.endsAt"
                                is-open="event.endOpen"
                                close-text="Close">
                        <span class="input-group-btn">
              <button
                      type="button"
                      class="btn btn-default"
                      ng-click="week.toggle($event, 'endOpen', event)">
                <i class="glyphicon glyphicon-calendar"></i>
              </button>
            </span>
                    </p>
                    <div
                            uib-timepicker
                            ng-model="event.endsAt"
                            hour-step="1"
                            minute-step="15"
                            show-meridian="true">
                    </div>
                </td>
                <td>
                    <button
                            class="btn btn-danger"
                            ng-click="week.events.splice($index, 1)">
                        Delete
                    </button>
                </td>
            </tr>
            </tbody>

        </table>
    </div>
</div>